---
import dayjs from "dayjs";
import { Image } from "@astrojs/image/components";

export interface CardBase {
  title: string;
  link: string;
  description: string;
  publishDate: Date;
  imageUrl: string | undefined;
}

export interface Props {
  card: CardBase;
}

const { card } = Astro.props;
const { title, link, description, publishDate, imageUrl } = card;
---

<a
  href={link}
  class:list={[
    "transition-all duration-75 ease-in-out",
    "h-full block relative top-0 hover:-top-2",
    "shadow-lg hover:shadow-xl bg-white rounded-xl overflow-hidden",
  ]}
  data-test="article-card"
>
  <Image
    src={imageUrl ?? "/no-image.jpg"}
    alt={title}
    width={800}
    height={450}
    format="webp"
    class="aspect-video w-full"
  />
  <div class="py-3 px-4 lg:py-6 lg:px-8">
    <h2 class="font-bold text-xl leading-tight truncate">
      {title}
    </h2>
    <p class="text-gray-600 line-clamp-2 text-justify">{description}</p>
    <p class="text-xs text-gray-600 mt-4 flex items-center">
      {dayjs(publishDate).format("YYYY-MM-DD")}
    </p>
  </div>
</a>
